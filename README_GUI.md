# 多维自适应趋势动量交易系统 - 图形界面

## 快速启动

### Windows 用户
双击 `start_gui.bat` 即可启动图形界面。

### 手动启动
```bash
# 1. 激活虚拟环境
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# 2. 安装依赖（首次运行）
pip install -r requirements.txt

# 3. 启动GUI
python run_gui.py
```

## 功能介绍

### 1. 回测功能
- 输入股票代码（支持多只，逗号分隔）
- 设置回测期间和初始资金
- 选择时间周期（1d/1h/30m/15m/5m）
- 可选GPU加速
- 查看详细回测结果和图表

### 2. 实时交易监控
- 设置监控股票列表
- 实时获取市场状态、趋势、信号评分
- 查看当前持仓状态
- 可设置更新间隔

### 3. 参数优化
- 自动网格搜索最优参数
- 支持多种优化目标（夏普比率、收益率等）
- GPU加速优化

### 4. 策略配置
- 调整市场状态识别参数
- 调整趋势分析参数
- 调整入场信号参数
- 调整风险控制参数

### 5. 系统信息
- GPU/加速状态
- 当前策略参数
- 系统版本信息

## 界面截图说明

### 回测面板
- **股票代码**: 输入6位股票代码，多只用逗号分隔（如：600000,000001）
- **开始/结束日期**: YYYYMMDD格式
- **初始资金**: 回测起始资金
- **时间周期**: K线周期
- **GPU加速**: 是否使用GPU/多核并行计算

### 结果展示
- **权益曲线**: 资金随时间变化
- **回撤曲线**: 最大回撤变化
- **月度收益**: 每月收益率柱状图
- **交易记录**: 详细的每笔交易信息

## 技术指标说明

| 指标 | 用途 | 默认参数 |
|------|------|----------|
| ADX | 市场状态识别 | 周期14, 趋势阈值25 |
| EMA三重 | 趋势方向确认 | 10/30/60 |
| MACD | 入场信号确认 | 12/26/9 |
| RSI | 超买超卖判断 | 周期14, 35/65 |
| 成交量 | 信号确认 | 20日均量 |

## 风险控制参数

| 参数 | 说明 | 默认值 |
|------|------|--------|
| 单笔风险 | 每笔交易最大风险 | 2% |
| 最大仓位 | 单只股票最大仓位 | 30% |
| 最大回撤 | 触发停止交易 | 15% |
| 最大持仓数 | 同时持有的股票数 | 5只 |

## 常见问题

### Q: 安装失败怎么办？
A: 确保Python版本≥3.10，使用国内镜像源：
```bash
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### Q: GPU加速不可用？
A: GPU加速需要安装CUDA和CuPy。如果没有GPU，系统会自动使用Numba多核CPU加速。

### Q: 数据获取失败？
A: 检查网络连接，akshare数据源可能需要稳定的网络环境。

## 依赖列表

- PyQt6 >= 6.4.0 (GUI框架)
- pyqtgraph >= 0.13.0 (图表)
- numpy >= 1.24.0
- pandas >= 2.0.0
- akshare >= 1.10.0 (A股数据)
- numba >= 0.57.0 (CPU加速)
- matplotlib >= 3.7.0
